<div class="hover-card"
     (mouseenter)="mouseEntered.emit()"
     (mouseleave)="mouseLeft.emit()">

  <img [src]="movie.movieImage" class="hover-img" />

  <div class="hover-data">
    <h3 class="title">{{ movie.title }}</h3>

    <button class="play" (click)="onWatchClick()">
  <i class="fas fa-play"></i> Play
</button>


    <div class="hover-actions">
      <!-- ADD: disabled when already in watchlist or busy -->
      <button
        class="action-btn add"
        [disabled]="isInWatchlist || busy"
        (click)="onAddClick()"
        title="Add to Watchlist"
        aria-label="Add to Watchlist">
        <i class="fas" [ngClass]="isInWatchlist ? 'fa-check' : 'fa-plus'"></i>
      </button>

      <!-- REMOVE: disabled when NOT in watchlist or busy -->
      <button
        class="action-btn block"
        [disabled]="!isInWatchlist || busy"
        (click)="onRemoveClick()"
        title="Remove from Watchlist"
        aria-label="Remove from Watchlist">
        <i class="fas fa-ban"></i>
      </button>
    </div>

    <div class="hover-meta">
      <span class="tag">
        {{ movie.releaseDate | date:'MMM yyyy':'UTC' }}
      </span>

      @if (movie.imDbRating !== undefined && movie.imDbRating !== null) {
        <span class="tag tag-rating">
          {{ movie.imDbRating }}
          <img class="imdb-logo" src="IMDB_Logo.svg" alt="IMDb" />
        </span>
      }
    </div>

    <p class="hover-desc">{{ movie.description }}</p>
  </div>
</div>
